(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),s=n.n(c),i=n(68),o=n(9),u=n.n(o),d=n(15),l=n(16),j=n(174),b=n(175),p=n(21),O=n(180),f=n(171),x=n(169),h=n(173),v=n(35),y=n(80),m=n.n(y),g=n(160),w=n(172),C=n(170),k=n(176),S=n(179),D=n(159),I=n(156),E=n(155),P=n(5),T=function(e){var t=e.gateway,n=(t=void 0===t?{name:"",ipv4:""}:t).id,r=t.name,c=t.ipv4,s=e.open,i=e.handleSave,o=e.handleClose,u=Object(a.useState)({id:n,name:r,ipv4:c}),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(P.jsxs)(S.a,{"data-testid":"gateway-form",open:s,onClose:function(){return o(!1)},"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(E.a,{id:"form-dialog-title",children:"Gateway Info"}),Object(P.jsxs)(I.a,{children:[Object(P.jsx)(k.a,{inputProps:{"data-testid":"gateway-form-name"},id:"outlined-basic",label:"Name",variant:"outlined",onChange:function(e){var t=e.target.value;return b(Object(p.a)(Object(p.a)({},j),{},{name:t}))},value:j.name}),Object(P.jsx)(k.a,{inputProps:{"data-testid":"gateway-form-ipv4"},id:"outlined-basic",label:"IPv4",variant:"outlined",onChange:function(e){var t=e.target.value;return b(Object(p.a)(Object(p.a)({},j),{},{ipv4:t}))},value:j.ipv4})]}),Object(P.jsxs)(D.a,{children:[Object(P.jsx)(g.a,{onClick:function(){return o(!1)},color:"primary",children:"Cancel"}),Object(P.jsx)(g.a,{onClick:function(){i(j),o(!1)},color:"primary",children:"Save"})]})]})},F=n(79),G=n.n(F),z=n(78),J=n.n(z),N=n(158),A=n(162),L=n(163),H=n(165),B=n(164),M=n(166),U=n(106),V=n(55),W=n.n(V),q=n(76),K=n.n(q),Q=n(77),R=n.n(Q),X=n(58),Y=n(161);function Z(e){var t=e.open,n=e.setOpen,a=e.handleDelete;return Object(P.jsxs)(S.a,{"data-testid":"alert-dialog",open:t,onClose:function(){return n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(I.a,{children:Object(P.jsx)(Y.a,{id:"alert-dialog-description",children:"Are you sure you want to delete?"})}),Object(P.jsxs)(D.a,{children:[Object(P.jsx)(g.a,{onClick:function(){return n(!1)},color:"primary",autoFocus:!0,children:"Cancel"}),Object(P.jsx)(g.a,{"data-testid":"delete-btn",onClick:function(){a(),n(!1)},color:"secondary",children:"Delete"})]})]})}var $=function(e){var t=e.dev,n=e.setOpenAlert,a=e.setDevId,r=e.openEditForm,c=e.setSelectDevice;return Object(P.jsxs)(A.a,{children:[Object(P.jsxs)(L.a,{children:["Online"===t.status&&Object(P.jsx)(K.a,{fontSize:"large",style:{color:X.a[500]}}),"Offline"===t.status&&Object(P.jsx)(R.a,{fontSize:"large",color:"disabled"})]}),Object(P.jsx)(B.a,{primary:"ID: "+t.id,secondary:"Vendor: "+t.vendor}),Object(P.jsxs)(H.a,{children:[Object(P.jsx)(U.a,{edge:"end","aria-label":"edit",onClick:function(){c(t),r()},"data-testid":"edit-device",children:Object(P.jsx)(J.a,{})}),Object(P.jsx)(U.a,{edge:"end","aria-label":"delete",onClick:function(){n(!0),a(t.id)},"data-testid":"delete-device",children:Object(P.jsx)(G.a,{})})]})]})},_=function(e){var t=e.gatewayId,n=e.devices,r=e.deleteDevice,c=e.openEditForm,s=e.setSelectDevice,i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),p=b[0],O=b[1];return Object(P.jsxs)(N.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(P.jsxs)(M.a,{component:"div",id:"nested-list-subheader",children:["Gateway Devices",Object(P.jsx)(U.a,{"data-testid":"add-gateway-btn",color:"primary",onClick:function(){return c(!0)},children:Object(P.jsx)(W.a,{fontSize:"small",color:"primary"})})]}),children:[n.map((function(e){return Object(P.jsx)($,{dev:e,setOpenAlert:d,setDevId:O,openEditForm:c,setSelectDevice:s},e.id)})),Object(P.jsx)(Z,{open:u,setOpen:d,handleDelete:function(){r({id:p,gatewayId:t}),d(!1)}})]})},ee=n(181),te=n(168),ne=n(167),ae=function(e){var t=e.device,n=(t=void 0===t?{vendor:"",status:"Offline"}:t).id,r=t.vendor,c=t.status,s=t.gatewayId,i=e.open,o=e.handleCreate,u=e.handleUpdate,d=e.handleClose,j=Object(a.useState)({id:n,vendor:r||"",status:c||"Offline",gatewayId:s}),b=Object(l.a)(j,2),O=b[0],f=b[1];return Object(P.jsxs)(S.a,{"data-testid":"device-form",open:i,onClose:function(){return d(!1)},"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(E.a,{id:"form-dialog-title",children:"Device Info"}),Object(P.jsx)(I.a,{children:Object(P.jsxs)(ne.a,{children:[Object(P.jsx)(te.a,{control:Object(P.jsx)(k.a,{inputProps:{"data-testid":"device-form-vendor"},id:"outlined-basic",label:"Vendor",variant:"outlined",onChange:function(e){var t=e.target.value;return f(Object(p.a)(Object(p.a)({},O),{},{vendor:t}))},value:O.vendor})}),Object(P.jsx)(te.a,{control:Object(P.jsx)(ee.a,{inputProps:{"data-testid":"device-form-status"},checked:"Online"===O.status,onChange:function(e){var t=e.target.checked;return f(Object(p.a)(Object(p.a)({},O),{},{status:t?"Online":"Offline"}))}}),label:O.status})]})}),Object(P.jsxs)(D.a,{children:[Object(P.jsx)(g.a,{onClick:function(){return d(!1)},color:"primary",children:"Cancel"}),Object(P.jsx)(g.a,{onClick:function(){void 0!==O.id?u(O):o(O),d(!1)},color:"primary",children:"Save"})]})]})},re=function(e){var t=e.gateway,n=e.updateGateway,r=e.deleteGateway,c=e.createDevice,s=e.updateDevice,i=e.deleteDevice,o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(!1),y=Object(l.a)(b,2),k=y[0],S=y[1],D=Object(a.useState)({}),I=Object(l.a)(D,2),E=I[0],F=I[1];return Object(P.jsxs)(O.a,{defaultExpanded:!1,children:[Object(P.jsx)(x.a,{expandIcon:Object(P.jsx)(m.a,{"data-testid":"expand-icon"}),"aria-controls":"panel1c-content",id:"panel1c-header",children:Object(P.jsxs)(C.a,{container:!0,spacing:2,children:[Object(P.jsx)(C.a,{item:!0,xs:4,children:Object(P.jsxs)(v.a,{color:"textSecondary",children:["ID: ",t.id]})}),Object(P.jsx)(C.a,{item:!0,xs:4,children:Object(P.jsxs)(v.a,{color:"textPrimary",children:["Name: ",t.name]})}),Object(P.jsx)(C.a,{item:!0,xs:4,children:Object(P.jsxs)(v.a,{color:"textPrimary",children:["IPv4: ",t.ipv4]})})]})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(C.a,{container:!0,spacing:2,justifyContent:"center",children:Object(P.jsx)(C.a,{item:!0,xs:12,md:8,children:Object(P.jsx)(_,{devices:t.devices,gatewayId:t.id,deleteDevice:i,openEditForm:function(){return S(!0)},setSelectDevice:F})})})}),Object(P.jsx)(w.a,{}),Object(P.jsxs)(h.a,{children:[Object(P.jsx)(g.a,{"data-testid":"edit-gateway",size:"small",onClick:function(){return j(!0)},children:"Edit"}),Object(P.jsx)(g.a,{"data-testid":"delete-gateway",size:"small",color:"secondary",onClick:function(){return r(t.id)},children:"Delete"})]}),Object(P.jsx)(T,{gateway:t,open:d,handleClose:j,handleSave:n},"gateway"+d),Object(P.jsx)(ae,{device:Object(p.a)(Object(p.a)({},E),{},{gatewayId:t.id}),open:k,handleClose:S,handleUpdate:s,handleCreate:c},"device"+k)]})},ce=n(178),se="http://localhost:8000",ie=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,n.text();case 12:throw e.t1=e.sent,(0,e.t0)(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,a.text();case 12:throw e.t1=e.sent,(0,e.t0)(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways/").concat(t,"/devices"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways/").concat(t,"/devices/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(se,"/gateways/").concat(t,"/devices/").concat(n),{method:"DELETE"});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=["gatewayId","id"],Oe=["gatewayId"];var fe=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),p=o[0],O=o[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),h=x[0],y=x[1],m=Object(a.useState)(!1),g=Object(l.a)(m,2),w=g[0],k=g[1],S=Object(a.useState)([]),D=Object(l.a)(S,2),I=D[0],E=D[1],F=Object(a.useState)(""),G=Object(l.a)(F,2),z=G[0],J=G[1],N=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){N()}),[]);var A=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue(t.id,t);case 3:return e.next=5,ie();case 5:n=e.sent,E(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0.message),O(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(z);case 2:return e.next=4,ie();case 4:t=e.sent,E(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:return e.next=5,ie();case 5:n=e.sent,E(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0.message),O(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gatewayId,a=t.id,r=Object(i.a)(t,pe),e.next=3,je(n,a,r);case 3:return e.next=5,ie();case 5:c=e.sent,E(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gatewayId,a=t.id,e.next=3,be(n,a);case 3:return e.next=5,ie();case 5:r=e.sent,E(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gatewayId,a=Object(i.a)(t,Oe),e.next=3,le(n,a);case 3:return e.next=5,ie();case 5:r=e.sent,E(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(j.a,{}),Object(P.jsxs)(b.a,{maxWidth:"md",style:{paddingTop:"1.5em"},children:[Object(P.jsxs)(C.a,{container:!0,spacing:3,children:[Object(P.jsxs)(C.a,{container:!0,item:!0,xs:12,children:[Object(P.jsx)(C.a,{item:!0,xs:10,children:Object(P.jsx)(v.a,{variant:"h3",children:"Gateway Management"})}),Object(P.jsx)(C.a,{item:!0,xs:2,children:Object(P.jsx)(U.a,{"data-testid":"add-gateway-btn",color:"primary",onClick:function(){return c(!0)},children:Object(P.jsx)(W.a,{style:{fontSize:50},color:"primary"})})})]}),Object(P.jsx)(C.a,{item:!0,xs:12,children:I.map((function(e){return Object(P.jsx)(re,{gateway:e,updateGateway:A,deleteGateway:function(e){k(!0),J(e)},createDevice:V,updateDevice:B,deleteDevice:M},e.id)}))})]}),Object(P.jsx)(T,{open:n,handleClose:c,handleSave:H}),Object(P.jsx)(Z,{open:w,setOpen:k,handleDelete:L})]}),Object(P.jsx)(ce.a,{open:p,autoHideDuration:6e3,onClose:function(){return O(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:h})]})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(fe,{})}),document.getElementById("root")),xe(console.log)}},[[105,1,2]]]);
//# sourceMappingURL=main.62a9e97b.chunk.js.map